<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONTACT :Sawako Sugimori's Portfolio</title>
    <meta name="description" content="杉森佐和子へのお問い合わせページです。">
    <!-- CSS -->
    <link rel="stylesheet" href="../css/commons.css">
    <link rel="stylesheet" href="./css/style.css">
    <!-- jQuery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

    <!-- Google Fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500&family=Poppins:wght@400;500&family=Ubuntu&display=swap');
    </style>
</head>

<body>
    <header id="header">
        <div class="header_wrap">
            <nav class="global_nav">
                <ul class="nav_left">
                    <li><a href="../index.html">TOP</a></li>
                    <li><a href="../work/index.html">WORK</a></li>
                    <li><a href="../about/index.html">ABOUT</a></li>
                    <li class="current_page"><a href="../contact/index.html">CONTACT</a></li>
                </ul>
                <div class="nav_right">
                    <div class="lang_switcher">
                        <p class="lang"><a href="#">日本語</a></p>
                        <span>/</span>
                        <p class="lang"><a href="#">English</a></p>
                    </div>
                    <ul class="social_links">
                        <li class="social_icon"><a href="#"><img src="../images/icons/github-icon-min.png" alt="
                                    Github"></a>
                        </li>
                        <li class="social_icon"><a href="#"><img src="../images/icons/ig-icon-min.png" alt="
                                    Instagram"></a>
                        </li>
                        <li class="social_icon"><a href="#"><img src="../images/icons/twitter-icon-min.png" alt="
                                    Twitter"></a>
                        </li>
                    </ul>
                </div>
            </nav>
            <!-- hamburger menu-->
            <div class="fixed">
                <div class="ham_btn"><span></span><span></span></div>
            </div>
            <nav class="sp_nav null">
                <div class="close_btn"><span></span><span></span></div>
                <ul class="nav_left">
                    <li><a href="../index.html">TOP</a></li>
                    <li><a href="../work/index.html">WORK</a></li>
                    <li><a href="../about/index.html">ABOUT</a></li>
                    <li class="current_page"><a href="../contact/index.html">CONTACT</a></li>
                </ul>
                <div class="nav_right">
                    <ul class="social_links">
                        <li class="social_icon"><a href="#"><img src="../images/icons/github-white-64af4ba148b4e.webp"
                                    alt="Github"></a>
                        </li>
                        <li class="social_icon"><a href="#"><img src="../images/icons/ig-white-64af4ba154069.webp"
                                    alt="Instagram"></a>
                        </li>
                        <li class="social_icon"><a href="#"><img src="../images/icons/twitter-white-64af4ba3dc597.webp"
                                    alt="Twitter"></a>
                        </li>
                    </ul>
                    <div class="lang_switcher">
                        <p class="lang"><a href="#">日本語</a></p>
                        <span>/</span>
                        <p class="lang"><a href="#">English</a></p>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <section class="contact">
        <h1 class="page_title">CONTACT</h1>
        <p>ご依頼・ご質問等がありましたら、お問い合わせフォームやSNSより、お気軽にお問い合わせください。</p>
        <ul class="social_links">
            <li class="social_icon"><a href="#"><img src="../images/icons/ig-icon-min.png" alt="
                Instagram"></a>
            </li>
            <li class="social_icon"><a href="#"><img src="../images/icons/twitter-icon-min.png" alt="
                Twitter"></a>
            </li>

        </ul>
        <form
            action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfW3Gw83pX6i_pLZpG5GUARikziPbYqu8m0Eiq6oGSUUvM6Yw/formResponse"
            method="post" target="hidden_iframe" onsubmit="submitted=true">

            <label for="name">お名前</label>
            <input id="name" class="required" type="text" placeholder="山田 太郎" name="entry.1982888611" required>
            <p class="error_text"></p>

            <label for="email">メールアドレス</label>
            <input id="email" class="required" type="text" placeholder="example@mail.co.jp" name="entry.463273501"
                required>
            <p class="error_text"></p>

            <label for="msg">メッセージ</label>
            <textarea id="msg" class="required" placeholder="お気軽にお問い合わせください。" name="entry.1729223197"
                required></textarea>
            <p class="error_text"></p>

            <!-- <p class="submit">submit</p> -->
            <button class="submit" type="submit" name="button" value="送信">メッセージを送信する</button>
        </form>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer_bg">
            <a href="#header" class="footer_left">
                <div class="arrow"></div>
                <p>page top</p>
            </a>
            <div class="footer_right">
                <ul class="footer_nav">
                    <li><a href="../index.html">TOP</a></li>
                    <li><a href="../work/index.html">WORK</a></li>
                    <li><a href="../about/index.html">ABOUT</a></li>
                    <li><a href="../contact/index.html">CONTACT</a></li>
                </ul>
                <!-- © 最初の発行年 著作権者の氏名 -->
                <p>&copy; 2023 Sawako Sugimori</p>
            </div>
        </div>
    </footer>
    <!-- jQuery -->
    <script>
        var submitted = false;
        $(function () {
            // hamburger menu
            $('.ham_btn').on('click', function () {
                if ($('.sp_nav').hasClass('null')) {
                    $('.sp_nav').removeClass('null');
                    $('.sp_nav').animate({ 'bottom': '0' }).addClass('active');
                }
            });
            $('.close_btn').on('click', function () {
                $('.sp_nav').animate({ 'bottom': '-450px' });
                $('.sp_nav').removeClass('active');
                $('.sp_nav').addClass('null');
            });
            // Show background when scrolling
            $(window).scroll(function () {
                var scroll = $(window).scrollTop();
                if (scroll > 100) {
                    $(".global_nav").addClass('scroll-nav');
                }
                else {
                    $(".global_nav").removeClass('scroll-nav');
                }
            });

            /*！！！！！！ここの添削をお願いします
            htmlタグにrequiredを追加したのですが、なぜかデフォルトのメッセージが表示されませんでした。
            今回は、デフォルトのメッセージが表示されないことを利用し、１）JSで空欄の場合はメッセージを表示、２）デフォルトの機能を利用し、ページ遷移を止める、という方法になっていると思っています。
            これで動いたのですが、これは適切なやり方か疑問に思っています。デフォルトのrequiredメッセージが表示された場合、これは上手くいかないのではないでしょうか？
            */
            // Form Validation 
            // Get values of the input field with id="required"
            let requireds = document.querySelectorAll('.required');
            // エラーメッセージを表示するpタグを取得
            let errors = document.querySelectorAll('.error_text');
            // 必須フィールドの数を取得
            let requiredLength = requireds.length;
            // sunmitボタンを取得
            const submit = document.querySelector('.submit');
            // var valid = false;
            submit.addEventListener('click', function (e) {
                // Cancel default actions
                for (let i = 0; i < requiredLength; i++) {
                    if (requireds[i].value == "") {
                        // エラーメッセージを表示
                        errors[i].innerHTML = "このフィールドは必須です。";
                    }
                    // 
                    // else {
                    //     valid = true;
                    // }
                }
            });
        });

    </script>
    <!-- Render to the thank you page-->
    <iframe name="hidden_iframe" id="hidden_iframe" style="display: none;"
        onload="if(submitted) {window.location='thanks.html';}">
    </iframe>
</body>

</html>